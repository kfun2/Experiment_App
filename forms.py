from flask_wtf import FlaskForm
from wtforms import (StringField, TextAreaField, DecimalField, 
                     BooleanField, RadioField, DateField, TimeField, SelectField, SubmitField, DateTimeField)
from wtforms.validators import InputRequired, Length

class NewExperiment(FlaskForm):
    num_runs = DecimalField('Number of Runs',validators=[InputRequired()])

class ProductionBatchRecord(FlaskForm):
    autopop = SelectField('Auto-populate fields for this run?',choices=[('no', 'No'),('yes','Yes')])
    run_name = StringField('Run Name')
    process_version_name = SelectField('Process Version Name', choices=[('5xv17', 'Reagent-5x-v1.7')])
    reactor_id = StringField('Reactor ID')
    description = StringField('Description')
    product = StringField('Product')
    strain = StringField('Strain')
    site_of_run = StringField('Site of Run')
    scale_litter = DecimalField('Scale Litter')
    number_of_seed_stages = DecimalField('Number of Seed Stages')
    seed_train_run_id = DecimalField('Seed Train Run ID')
    feed_minimum_concentration = StringField('Feed Minimum Concentration')
    batch_temperature_setpoint_celcius = DecimalField('Batch Temperature Setpoint (Celcius)')
    fed_batch_temperature_setpoint_celcius = DecimalField('Fed Batch Temperature Setpoint (Celcius)')
    induction_temperature_setpoint_celcius = DecimalField('Induction Temperature Setpoint (Celcius)')
    ph_setpoint = DecimalField('pH Setpoint')
    growth_do_setpoint_percent = DecimalField('Growth Do Setpoint (Percent)')
    target_batch_phase_airflow_vvm = DecimalField('Target Batch Phase Airflow (VVM)')
    target_fed_batch_phase_airflow_vvm = DecimalField('Target Fed Batch Phase Airflow (VVM)')
    foam_control = StringField('Foam Control')
    inducer = StringField('Inducer')
    target_batch_volume_ml = DecimalField('Target Batch Volume (mL)')
    target_pre_induction_volume_ml = DecimalField('Target Pre-Induction Volume (mL)')
    target_final_volume_ml = DecimalField('Target Final Volume (mL)')
    target_final_volume_w_drawdown_ml = DecimalField('Target Final Volume w/ Drawdown (mL)')
    seed_media = StringField('Seed Media')
    feed_media_1 = StringField('Feed Media 1')
    target_time_to_add_feed_media_1_post_feed_start_h = StringField('Target Time to Add Feed Media 1 Post Feed Start H')
    feed_media_2 = StringField('Feed Media 2')
    target_time_to_add_feed_media_2_post_feed_start_h = DecimalField('Target Time to Add Feed Media 2 Post Feed Start H')
    estimated_batch_timing_h = DecimalField('Estimated Batch Timing H')
    target_post_feed_duration_until_temp_shift_h = DecimalField('Target Post Feed Duration Until Temp Shift H')
    target_post_feed_duration_until_induction_h = DecimalField('Target Post Feed Duration Until Temp Shift H')
    target_induction_duration_h = DecimalField('Target Induction Duration H')
    growth_feed_rate_1_m_h_1 = DecimalField('Growth Feed Rate 1 M H 1')
    growth_feed_rate_1_post_feed_target_time_h = DecimalField('Growth Feed Rate 1 Post Feed Target Time H')
    growth_feed_rate_1_type = StringField('Growth Feed Rate 1 Type')
    growth_feed_rate_2_m_h_1 = StringField('Growth Feed Rate 2 M H 1')
    growth_feed_rate_2_post_feed_target_time_h = StringField('Growth Feed Rate 2 Post Feed Target Time H')
    growth_feed_rate_2_type = StringField('Growth Feed Rate 2 Type')
    induction_feed_rate_m_h_1 = DecimalField('Induction Feed Rate M H 1')
    induction_feed_profile_type = StringField('Induction Phase Feed Interval H')
    post_feed_time_of_percent_drawdown_h = DecimalField('Post Feed Time of Percent Drawdown H')
    drawdown_at_post_feed_time_percent = DecimalField('Drawdown at Post Feed Time (Percent)')
    initial_batch_vol_litter = DecimalField('Initial Batch Vol Litter')
    x0_grams_over_litter = DecimalField('X0 Grams Over Litter')
    sf_feed_gluc_grams_over_litter = DecimalField('SF Feed Gluc Grams Over Litter')
    s0_batch_gluc_grams_over_litter = DecimalField('S0 Batch Gluc Grams Over Litter')
    yx_over_s_grams_over_grams = DecimalField('YX Over S Grams Over Grams')
    od_over_gram_dry_wt_over_litter = DecimalField('OD Over Gram Dry WT Over Litter')
    growth_phase_feed_interval_h = DecimalField('Growth Phase Feed Interval H')
    feed_profile_type = StringField('Feed Profile Type')
    induction_phase_feed_interval_h = DecimalField('Induction Phase Feed Interval H')
    actual_inoculation_time = DateTimeField('Actual Inoculation Time')
    actual_fed_batch_start_time = DateTimeField('Actual Fed Batch Start Time')
    actual_induction_start_time = DateTimeField('Actual Induction Start Time')
    target_induction_duration_1_h = DecimalField('Target Induction Duration 1 H')
    run_outcome = StringField('Run Outcome')

class ProductionAdditions(FlaskForm):
    run_id = StringField('Run Name')
    process_version_name = StringField('Process Verion Name')
    target_phase_of_addition = StringField('Target Phase of Addition')
    addition_name = StringField('Addition Name')
    nth_addition = DecimalField('nth Addition')
    target_batch_concentration_ml_l = DecimalField('Target Batch Concentration (mL L)')
    target_amount_ml = DecimalField('Target Amount (mL)')
    target_phase_time_h = DecimalField('Target Phase Time H')
    actual_amount_added_ml = DecimalField('Actual Amount Added (mL)')
    actual_start_time_of_addition = DateTimeField('Actual Start Time of Addition')
    actual_stop_time_of_addition = DateTimeField('Actual Stop Time of Addition')
    addition_lot_id = StringField('Addition Lot ID')
    addition_type = StringField('Addition Type')
    target_addition_rate_ml_h_l0 = DecimalField('Target Addition Rate mL H L0')
    target_addition_rate_ml_h = DecimalField('Target Addition Rate mL H')


class GrowthData(FlaskForm):
    run_id = StringField('Run Name')
    ferm_sample_id = StringField('Ferm Sample ID')
    reactor_id_temp = StringField('Reactor ID Temp')
    ferm_stage = StringField('Ferm Stage')
    notes = StringField('Notes')
    eft_h = DecimalField('EFT H')
    time_post_induction_h = DecimalField('Time Post Induction H')
    rounded_post_induction_time_h = DecimalField('Rounded Post Induction Time H')
    post_feed_start_time_h = DecimalField('Post Feed Start Time H')
    o2_flow_percent = DecimalField('O2 Flow Percent')
    total_gas_flow_slpm = DecimalField('Total Gas Flow SLPM')
    base_totalizer_ml = DecimalField('Base Totalizer (mL)')
    base_consumed_g = DecimalField('Base Consumed (g)')
    feed_weight_g = DecimalField('Feed Weight (g)')
    amount_of_feed_added_g = DecimalField('Amount of Feed Added (g)')
    amount_of_feed_added_ml = DecimalField('Amount of Feed Added (ml)')
    offline_ph = DecimalField('Offline pH')
    od595 = DecimalField('OD 595')
    od_bioht = DecimalField('OD Bio HT')
    bioht_glucose_g_l = DecimalField('Bio HT Glucose (G L)')
    bioht_lactate_mmol = DecimalField('Bio HT Lactate (mmol)')
    bioht_acetate_mmol = DecimalField('Bio HT Acetate (mmol)')
    bioht_ammonia_mmol = DecimalField('Bio HT Ammonia (mmol)')
    bioht_glutamine_mmol = DecimalField('Bio HT Glutamine (mmol)')
    bioht_glutamate_mmol = DecimalField('Bio HT Glutamate (mmol)')
    bioht_phosphate_mmol = DecimalField('Bio HT Phosphate (mmol)')
    bioht_magnesium_mmol = DecimalField('Bio HT Magnesium (mmol)')
    osm_mosm_kg = DecimalField('OSM MOSM (kg)')
    bioht_arabinose_mg_l = DecimalField('Bio HT Arabinose (mg L)')
    af_added_ml = DecimalField('AF Added (mL)')
    af_totalizer_ml = DecimalField('AF Totalizer (mL)')
    theoretical_amount_of_feed_added_ml = DecimalField('Theoretical Amount of Feed Added (mL)')
    percent_diff_in_feed = DecimalField('Percent Diff in Feed')
    online_ph = DecimalField('Online pH')
    broth_viscosity_ranking = DecimalField('Broth Viscosity Ranking')
    bioht_pyruvate_mmol = DecimalField('Bio HT Pyruvate (mmol)')
    total_amount_of_antifoam_added_ml = DecimalField('Total Amount of Antifoam Added (mL)')
    bioht_ldh_u_l = DecimalField('Bio HT LDH U (L)')
    bioht_igg_mg_l = DecimalField('Bio HT IGG (mg L)')
    bioht_total_protein_g_l = DecimalField('Bio HT Total Protein (g L)')
    sodium = DecimalField('Sodium')
    potassium = DecimalField('Potassium')
    bioht_formate_mg_l = DecimalField('Bio HT Formate (mg L)')
    datetime = DateTimeField('Datetime')
    gel_titer_g_l = DecimalField('Gel Titer (g L)')

class AdditionPrcoessVersion(FlaskForm):
    process_version_name = StringField('Process Version Name')
    addition_name = StringField('Addition Name')
    phase = StringField('Phase')
    target_phase_time_h = StringField('Target Phase Time (H)')
    target_batch_concentration_ml_l = DecimalField('Target Batch Concentration (mL/L)')

class CellBank(FlaskForm):
    seed_train_run_id = StringField('Seed Train Run ID')
    strain_number = StringField('Strain Number')
    cell_bank_type = StringField('Cell Bank Type')
    cell_bank_lot_number = StringField('Cell Bank Lot Number')
    cell_bank_vial_number = StringField('Cell Bank Vial Number')
    date_cell_bank_made = DateField('Date Cell Bank Made')

class SeedProcessCondition(FlaskForm):
    seed_train_run_id = StringField('Seed Train Run ID')
    seed_stage_run_id = StringField('Seed Stage Run ID')
    seed_stage = StringField('Seed Stage')
    strain_number = StringField('Strain Number')
    seed_stage_run_id_used_to_inoculate = StringField('Seed Stage Run ID Used to Inoculate')
    media = StringField('Media')
    media_lot_number = StringField('Media Lot Number')
    temperature_c_setpoint = DecimalField('Temperature (°C) Setpoint')
    agitation_setpoint_rpm = DecimalField('Agitation Setpoint (RPM)')
    orbital_diameter_cm = DecimalField('Orbital Diameter (cm)')
    do_percent_setpoint = DecimalField('DO% Setpoint')
    vessel = StringField('Vessel')
    vessel_size_ml = DecimalField('Veseel Size (mL)')
    target_seeding_density_percent_vv = DecimalField('Target Seeding Density Percent (v/v)')
    total_batch_volume_ml = DecimalField('Total Batch Volume (mL)')
    amount_of_sf_media_to_add_ml = DecimalField('Amount of SF Media to Add (mL)')
    inoculum_size_to_add_ml = DecimalField('Inoculum Size to Add (mL)')

class SeedGrowthData(FlaskForm):
    seed_train_run_id = StringField('Seed Train Run ID')
    seed_stage_run_id = StringField('Seed Stage Run ID')
    ferm_sample_id = StringField('Ferm Sample ID')
    seed_stage = StringField('Seed Stage')
    description = StringField('Description')
    datetime = DateTimeField('Datetime')
    take_in_or_out_of_incubator = SelectField('Take In or Out of Incubator',choices=[('in', 'In'),('out','Out')])
    temperature_seed_stage_held_at_c = DecimalField('Temperature Seed Stage Held At (°C)')
    total_elapsed_time_h = DecimalField('Total Elapsed Time (h)')
    true_eft_h = DecimalField('True EFT H')
    notes = StringField('Notes')
    ysi_glucose_gl = DecimalField('YSI Glucose (gl)')
    o2_flow_percent = DecimalField('O2 Flow Percent')
    total_gas_flow_slpm = DecimalField('Total Gas Flow SLPM')
    base_totalizer_ml = DecimalField('Base Totalizer (mL)')
    online_ph = DecimalField('Online pH')
    offline_ph = DecimalField('Offline pH')
    od595 = DecimalField('OD 595')
    specific_growth_rate_k_1 = DecimalField('Specific Growth Rate K-1')
    od_bioht = DecimalField('OD BioHT')
    bioht_glucose_g_l = DecimalField('BioHT Glucose (g/L)')
    bioht_lactate_mmol = DecimalField('BioHT Lactate (mmol)')
    bioht_acetate_mmol = DecimalField('BioHT Acetate (mmol)')
    bioht_ammonia_mmol = DecimalField('BioHT Ammonia (mmol)')
    bioht_glutamine_mmol = DecimalField('BioHT Glutamine (mmol)')
    bioht_glutamate_mmol = DecimalField('BioHT Glutamate (mmol)')
    bioht_phosphate_mmol = DecimalField('BioHT Phosphate (mmol)')
    bioht_magnesium_mmol = DecimalField('BioHT Magnesium (mmol)')
    bioht_formate_mg_l = DecimalField('BioHT Formate (mg/L)')
    bioht_pyruvate_mmol = DecimalField('BioHT Pyruvate (mmol)')
    bioht_ldh_u_l = DecimalField('BioHT LDH (u/L)')
    bioht_igg_mg_l = DecimalField('BioHT IGG (mg/L)')
    bioht_total_protein_g_l = DecimalField('BioHT Total Protein (g/L)')
    sodium = DecimalField('Sodium')
    potassium = DecimalField('Potassium')
    osm_mosm_kg = DecimalField('OSM MOSM (kg)')